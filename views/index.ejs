<%- include('partials/header') %>

<div class="hero">
    <h1>Welcome to AASRA</h1>
    <p>Connecting People. Empowering Change. Report your problems and let NGOs help you.<br>Scroll below to Submit Problem.</p>
</div>

<div class="container">
    <% if (success) { %>
        <div class="alert alert-success show">
            Your problem has been posted successfully! NGOs in your area will see it and reach out to help.
        </div>
    <% } %>

    <% if (error) { %>
        <div class="alert alert-error show">
            There was an error submitting your problem. Please try again.
        </div>
    <% } %>

    <!-- Features Section -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
        <div class="feature-box">
            <h3>üìù Post Your Problem</h3>
            <p>Share any social issue you're facing - education, healthcare, housing, and more.</p>
        </div>
        <div class="feature-box">
            <h3>ü§ù NGOs Will Find You</h3>
            <p>Multiple NGOs browse problems daily and reach out to help based on their expertise.</p>
        </div>
        <div class="feature-box">
            <h3>üìä Track Progress</h3>
            <p>See which NGO is helping you and track the status of your problem.</p>
        </div>
        <div class="feature-box">
            <h3>üåç Community Impact</h3>
            <p>Your voice contributes to a cleaner, safer, and more caring community.</p>
        </div>
    </div>

    <!-- Problem Submission Form -->
    <div class="card">
        <h2>Submit Your Problem</h2>
        <p style="color: var(--text); margin-bottom: 20px;">Fill out the form below and NGOs will be able to see your problem and contact you to help.</p>
        
        <form action="/submit-complaint" method="POST">
            <div class="form-group">
                <label for="name">Full Name *</label>
                <input type="text" id="name" name="name" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="phone">Phone Number *</label>
                <input type="tel" id="phone" name="phone" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="location">Location/City *</label>
                <input type="text" id="location" name="location" class="form-control" required placeholder="e.g., Mumbai, Delhi, Bangalore">
            </div>

            <div class="form-group">
                <label for="category">Problem Category *</label>
                <select id="category" name="category" class="form-control" required>
                    <option value="">Select a category</option>
                    <option value="Education">Education</option>
                    <option value="Healthcare">Healthcare</option>
                    <option value="Housing">Housing</option>
                    <option value="Employment">Employment</option>
                    <option value="Legal Aid">Legal Aid</option>
                    <option value="Food & Nutrition">Food & Nutrition</option>
                    <option value="Women Safety">Women Safety</option>
                    <option value="Child Welfare">Child Welfare</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="description">Problem Description *</label>
                <textarea id="description" name="description" class="form-control" required placeholder="Please describe your problem in detail so NGOs can understand how to help you..."></textarea>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Problem</button>
        </form>
    </div>
</div>

<script>
  // Scroll page to the problem submission form smoothly when the submit button is clicked
  document.querySelector('button[type="submit"]').addEventListener('click', function(event) {
    // Prevent the default submit for demo; remove if you want form submission immediately
    // event.preventDefault();

    // Scroll the form into view smoothly
    document.querySelector('form[action="/submit-complaint"]').scrollIntoView({ behavior: 'smooth' });
    
    // Optionally, focus first input in the form
    const firstInput = document.querySelector('form[action="/submit-complaint"] input, form[action="/submit-complaint"] textarea, form[action="/submit-complaint"] select');
    if (firstInput) firstInput.focus();
  });
</script>

<%- include('partials/footer') %>
